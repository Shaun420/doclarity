source: https://github.com/Shaun420/doclarity/archive/refs/heads/main.zip#doclarity-main
features:
  - node lts
nginx:
  index: index.html
  root: public_html/public
  fastcgi: on
  locations:
    - match: ~ ^/api(/.*)?$
      root: public_html/server
      passenger:
        enabled: on
        app_type: node
        startup_file: server/server.js
        env_var_list:
          - PORT=7634
          - NOHUP=1
          - GEMINI_API_KEY=AIzaSyDDoJCS99uGNJRBRFaqfaZP0yaWWktjN94
          - ANALYZE_DEBUG=true
    - match: /
      try_files: $uri $uri/ /index.html
commands:
  - cd client && npm install && npm run build
  - cd ../server && npm install
  - mkdir -p ../public
  - cp -r ../client/dist/* ../public/